import{r as t,u as S,j as e,H as E}from"./app-DLGXfHmj.js";import{B as c}from"./app-logo-icon-D_FhpEOq.js";import{C as k,a as H,b as I,c as P}from"./card-DhPOJZK4.js";import{D as z,a as F,b as O,c as _}from"./dialog-C-HVjtO5.js";import{L as f,I as j}from"./label-JKSzNbp_.js";import{A as q,D as A}from"./app-layout-DyQAK9AO.js";import{C as B,a as M,P as R,T as U}from"./trash-2-DpXUEVTc.js";import{P as X}from"./plus-DSqeruhb.js";/* empty css            */import"./index-DVI4K9v1.js";import"./index-DKPmXwUQ.js";const $=[{title:"Lists",href:"/lists"}];function ie({lists:g,flash:i}){const[N,a]=t.useState(!1),[r,d]=t.useState(null),[o,l]=t.useState(!1),[v,u]=t.useState(""),[m,x]=t.useState("success");t.useEffect(()=>{i?.success?(u(i.success),x("success"),l(!0)):i?.error&&(u(i.error),x("error"),l(!0))},[i]),t.useEffect(()=>{if(o){const s=setTimeout(()=>{l(!1)},3e3);return()=>clearTimeout(s)}},[o]);const{data:p,setData:n,post:C,put:b,processing:w,reset:h,delete:T}=S({title:"",description:""}),y=s=>{s.preventDefault(),r?b(route("lists.update",r.id),{onSuccess:()=>{a(!1),h(),d(null)}}):C(route("lists.store"),{onSuccess:()=>{a(!1),h()}})},L=s=>{d(s),n({title:s.title,description:s.description||""}),a(!0)},D=s=>{T(route("lists.destroy",s))};return e.jsxs(q,{breadcrumbs:$,children:[e.jsx(E,{title:"Lists"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[o&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-2 rounded-lg p-4 shadow-lg ${m==="success"?"bg-green-500":"bg-red-500"} text-white animate-in fade-in slide-in-from-top-5`,children:[m==="success"?e.jsx(B,{className:"h-5 w-5"}):e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{children:v})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Lists"}),e.jsxs(A,{open:N,onOpenChange:a,children:[e.jsx(z,{asChild:!0,children:e.jsxs(c,{children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"New List"]})}),e.jsxs(F,{children:[e.jsx(O,{children:e.jsx(_,{children:r?"Edit List":" Create New List"})}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{htmlFor:"title",children:"Title"}),e.jsx(j,{id:"title",value:p.title,onChange:s=>n("title",s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(f,{htmlFor:"description",children:"Description"}),e.jsx(j,{id:"description",value:p.description,onChange:s=>n("description",s.target.value),required:!0})]}),e.jsx(c,{type:"submit",disabled:w,children:r?"Update":"Create"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(s=>e.jsxs(k,{className:"hover:bg-accent/50 transition-colors",children:[e.jsxs(H,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(I,{className:"text-lg font-medium",children:s.title}),e.jsxs("div",{className:"flex ",children:[e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>L(s),children:e.jsx(R,{className:"h-2 w-2"})}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>D(s.id),className:"text-destructive hover:text-destructive/90",children:e.jsx(U,{className:"h-2 w-2"})})]})]}),e.jsxs(P,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description||"No description"}),s.tasks_count!==void 0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[s.tasks_count," tasks"]})]})]},s.id))})]})]})}export{ie as default};
